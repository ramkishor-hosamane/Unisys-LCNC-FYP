<?xml version="1.0" encoding="UTF-8"?>
<module xmlns="http://www.skyve.org/xml/module" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" title="tracking" prototype="true" name="tracking" xsi:schemaLocation="http://www.skyve.org/xml/module ../../schemas/module.xsd">
    <homeRef>edit</homeRef>
    <homeDocument>OrderHeader</homeDocument>
    <documents>
        <document ref="OrderHeader"/>
        <document ref="OrderItem"/>
        <document ref="Packing"/>
        <document ref="Picking"/>
        <document ref="Shipping"/>
    </documents>
    <roles>
        <role name="Maintainer">
            <description><![CDATA[Create, edit and delete permission within the tracking module.]]></description>
            <privileges>
                <document name="OrderHeader" permission="CRUDC">
					<action name="GetOrders"/>				
					<action name="SubmitOrder"/>				

                </document>
                <document name="OrderItem" permission="CRUDC"/>
                <document name="Picking" permission="CRUDC"/>
                <document name="Packing" permission="CRUDC"/>
                <document name="Shipping" permission="CRUDC"/>
            </privileges>
        </role>
    </roles>
    <menu>
        <edit document="OrderHeader" name="OrderHeader">
        
            <role name="Maintainer"/>
        </edit>
        <list document="OrderHeader" name="OrderHeaderList">
                
            <role name="Maintainer"/>
        </list>
<!--         <list document="OrderItem" name="OrderItem"> -->
<!--             <role name="Maintainer"/> -->
<!--         </list> -->

		
        <list  document="Picking" name="Picking">
            <role name="Maintainer"/>
        </list>
        <list document="Packing" name="Packing">
            <role name="Maintainer"/>
        </list>
        <list document="Shipping" name="Shipping">
            <role name="Maintainer"/>
        </list>
    </menu>
    
        <queries>
        <query documentName="OrderHeader" name="qOrderHeader">
            <description><![CDATA[All OrderHeaders]]></description>
            <columns>
                <column binding="orderid" sortOrder="ascending"/>
                <column binding="userloginid"/>
                <column binding="subtotal"/>
                <column binding="grandtotal"/>
                <column binding="addressid"/>
                <column binding="paymentmethod"/>
                <column binding="orderstatus">
                <filterOperator>notEqual</filterOperator>
                 <filterExpression>completed</filterExpression>
                </column>
                <column binding="orderdate" hidden="true"/>
                <column binding="createdstamp" hidden="true"/>
                <column binding="updatedstamp" hidden="true"/>
            </columns>
        </query>
        
        
        
                <query documentName="OrderHeader" name="qOrderHeaderComplete">
            <description><![CDATA[All OrderHeaders]]></description>
            
        	<from>
				<![CDATA[
					{tracking.OrderHeader} as bean]]>
			</from>

            <columns>
                <column binding="orderid" sortOrder="ascending"/>
                <column binding="userloginid"/>
                <column binding="subtotal"/>
                <column binding="grandtotal"/>
                <column binding="addressid"/>
                <column binding="paymentmethod"/>
                <column binding="orderstatus">
                <filterOperator>equal</filterOperator>
                 <filterExpression>completed</filterExpression>
                
                </column>
                <column binding="orderdate" hidden="true"/>
                <column binding="createdstamp" hidden="true"/>
                <column binding="updatedstamp" hidden="true"/>
            </columns>
        </query>
        
        
        
        
        
        
        
        
        
        
                <query documentName="OrderHeader" name="qOrderHeaderIncomplete">
            <description><![CDATA[All OrderHeaders]]></description>
            <columns>
                <column binding="orderid" sortOrder="ascending"/>
                <column binding="userloginid"/>
                <column binding="subtotal"/>
                <column binding="grandtotal"/>
                <column binding="addressid"/>
                <column binding="paymentmethod"/>
                <column binding="orderstatus"/>
                <column binding="orderdate" hidden="true"/>
                <column binding="createdstamp" hidden="true"/>
                <column binding="updatedstamp" hidden="true"/>
            </columns>
        </query>
        
        
                <query documentName="OrderHeader" name="qOrderItemByOrderId">
            <description><![CDATA[All karmas]]></description>
            
             <columns>
                <column binding="orderid" sortOrder="ascending"/>
                <column binding="userloginid"/>
           		<column binding="orders.orderitemid" />
              
                <column binding="orderstatus"/>
                <column binding="orderdate" hidden="true"/>
            </columns>
<!--             <columns> -->
<!--             	<column binding="orderitemid" sortOrder="ascending"/> -->
<!--                 <column binding="productid"/> -->
<!--                 <column binding="quantity"/> -->
<!--                 <column binding="unitprice"/> -->
<!--                 <column binding="createdstamp"/> -->
<!--                 <column binding="updatedstamp"/> -->
<!--             </columns> -->
        </query>
        
        
        
        
        
        
        <query documentName="OrderItem" name="qOrderItem">
            <description><![CDATA[All ToDos]]></description>
            <columns>
                <column binding="orderitemid" sortOrder="ascending"/>
                <column binding="productid"/>
                <column binding="quantity"/>
                <column binding="unitprice"/>
                <column binding="createdstamp"/>
                <column binding="updatedstamp"/>
            </columns>
        </query>
        
        
        
        
        
        
    </queries>
</module>